var body=document.querySelector("body"),link=document.querySelector(".modal-open-button"),popup=document.querySelector(".modal-search"),form=popup.querySelector("form"),arrivalDate=popup.querySelector("[name=arrival-date]"),departureDate=popup.querySelector("[name=departure-date]"),adultNumber=popup.querySelector("[name=adult-number]"),childrenNumber=popup.querySelector("[name=children-number]"),isStorageSupport=!0,adultNumberStorage="",childrenNumberStorage="";body.classList.remove("no-js");try{adultNumberStorage=localStorage.setItem("adult-number"),childrenNumberStorage=localStorage.setItem("children-number")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),popup.classList.toggle("modal-show"),form.classList.remove("modal-error"),arrivalDate.focus(),adultNumberStorage?adultNumber.value=adultNumberStorage:childrenNumberStorage?childrenNumber.value=childrenNumberStorage:arrivalDate.focus()}),form.addEventListener("submit",function(e){arrivalDate.value&&departureDate.value&&adultNumber.value&&childrenNumber.value?isStorageSupport&&(localStorage.setItem("adult-number",adultNumber.value),localStorage.setItem("children-number",childrenNumber.value)):(e.preventDefault(),form.classList.add("modal-error"),console.log("Нужно заполнить все поля"))});